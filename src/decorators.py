"""
Декораторы (decorators) в Python

Декоратор — это функция, которая принимает другую функцию и возвращает новую функцию
с добавленным (или изменённым) поведением. Декораторы часто используются для:

- логирования и трассировки вызовов
- измерения времени выполнения
- контроля доступа и авторизации
- кеширования результатов (memoization)
- выполнения до/после-логики (например, открытие/закрытие ресурсов)

Как это работает (упрощённо):
1. Декоратор принимает функцию `func`.
2. Внутри декоратора определяется вложенная функция `wrapper(*args, **kwargs)`.
3. `wrapper` выполняет дополнительную логику и затем вызывает `func`.
4. Декоратор возвращает `wrapper`, который заменяет исходную функцию.

Важно: при создании обёрток полезно использовать `functools.wraps(func)`, чтобы
сохранить метаданные оригинальной функции (имя, docstring и т.п.).

Пример ниже показывает декоратор `logtime`, который измеряет и выводит время
выполнения обёрнутой функции.
"""

def logtime(func):
    """Декоратор, который логирует время выполнения функции."""
    import time
    import functools

    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"Время выполнения {func.__name__}: {end_time - start_time:.4f} секунд")
        return result

    return wrapper


@logtime
def hello():
    """Возвращает приветственное сообщение."""
    return "Hello, World!"


if __name__ == '__main__':
    # При запуске модуля напрямую выведется сообщение и время выполнения
    print(hello())  # Output: Hello, World! и время выполнения функции