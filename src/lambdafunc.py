# ========== LAMBDA ФУНКЦИИ ==========
# Lambda - это анонимная (без имени) функция, которая позволяет писать короткие функции в одну строку
# Синтаксис: lambda аргументы: выражение

# Простая lambda функция: умножает число на 2
numb = lambda num: num * 2
print(numb(5))  # Output: 10

# Lambda с несколькими аргументами: умножает два числа
multiply = lambda x, y: x * y
print(multiply(3, 4))  # Output: 12


# ========== MAP ФУНКЦИЯ ==========
# map(функция, итерируемый_объект) - применяет функцию к КАЖДОМУ элементу последовательности
# Возвращает объект map (нужно преобразовать в list)
# В этом примере: каждое число возводится в квадрат (x ** 2)

numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x ** 2, numbers))
print(squared)  # Output: [1, 4, 9, 16, 25]




# ========== FILTER ФУНКЦИЯ ==========
# filter(функция, итерируемый_объект) - ОТФИЛЬТРОВЫВАЕТ элементы, оставляя только те, для которых функция вернула True
# Возвращает объект filter (нужно преобразовать в list)
# В этом примере: оставляются только четные числа (число % 2 == 0)

def is_even(num):
    """Проверяет, является ли число четным.
    
    Args:
        num: Целое число для проверки
    
    Returns:
        True если число четное, False если нечетное
    """
    return num % 2 == 0

# Вариант 1: используем функцию is_even
result = list(filter(is_even, numbers))
print(result)  # Output: [2, 4]

# Вариант 2: используем lambda функцию - более компактный способ
result1 = list(filter(lambda x: x % 2 == 0, numbers))
print(result1)  # Output: [2, 4]




# ========== REDUCE ФУНКЦИЯ ==========
# reduce(функция, итерируемый_объект, [начальное_значение]) 
# - НАКАПЛИВАЕТ результат путем применения функции к двум аргументам (аккумулятор и текущий элемент)
# - Возвращает одно единственное значение (результат)
# - Нужно импортировать из functools
#
# Как работает reduce:
# 1. Берет первые два элемента (или начальное значение и первый элемент)
# 2. Применяет функцию к ним, получает результат
# 3. Берет результат и следующий элемент
# 4. Снова применяет функцию
# 5. Повторяет до конца списка
#
# Пример: reduce(lambda acc, x: acc + x, [1, 2, 3, 4])
# Шаг 1: acc=1, x=2 → 1+2=3
# Шаг 2: acc=3, x=3 → 3+3=6
# Шаг 3: acc=6, x=4 → 6+4=10
# Результат: 10

from functools import reduce

expenses = [("Coffee", 3), ("Books", 12), ("Groceries", 45)]

# Вариант 1: использование обычного цикла для суммирования расходов
print("\n--- Способ 1: Цикл for ---")
sum = 0
for expence in expenses:
    print(f"  {expence[0]}: ${expence[1]}")  # Выводим название и цену
    sum += expence[1]  # Добавляем стоимость к сумме
print("Total expenses:", sum)  # Output: Total expenses: 60


# Вариант 2: использование reduce для суммирования расходов (более функциональный подход)
print("\n--- Способ 2: Reduce ---")
# acc - аккумулятор (накопленная сумма)
# expense - текущий элемент кортежа (название, цена)
# expense[1] - цена (второй элемент кортежа)
# 0 - начальное значение аккумулятора
total = reduce(lambda acc, expense: acc + expense[1], expenses, 0)
print("Total expenses using reduce:", total)  # Output: Total expenses using reduce: 60